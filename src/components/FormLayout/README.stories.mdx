import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { FormLayout, FormGroup, FormItem, TextField } from '@/polaris-vue';

<Meta
  title="Components / Forms / Form Layout"
  component={ FormLayout }
  argTypes={{
    default: {
      table: {
        disable: true,
      },
    },
    field: {
      name: 'field-{field-id}',
      description: 'Slot for each form field, defined by `field-id`. Must have prefix `field-`',
      table: {
        category: 'Slots',
        type: {
          summary: null,
        },
      },
    },
    group: {
      name: 'group-{group-id}',
      description: 'Slot for each field group, defined by `group-id`. Must have prefix `group-`',
      table: {
        category: 'Slots',
        type: {
          summary: null,
        },
      },
    },
  }}
/>

# Form Layout

Use form layout to arrange fields within a form using standard spacing.
By default it stacks fields vertically but also supports horizontal groups of fields.

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { FormLayout, FormItem, TextField },
  data() {
    return {
      textField: '',
      emailField: '',
    };
  },
  template: `
  <FormLayout>
    <FormItem>
      <TextField v-model="textField" autoComplete="off">
        <template slot="label">Store name</template>
      </TextField>
    </FormItem>
    <FormItem>
      <TextField v-model="emailField" type="email" autoComplete="email">
        <template slot="label">Account email</template>
      </TextField>
    </FormItem>
  </FormLayout>`,
});

<Canvas>
  <Story
    name="Default Form Layout"
    height="160px"
    parameters={{
      docs: {
        transformSource: (source) => {
          const tmpSource = source
            .replace(/value=""/, 'v-model="storeName"')
            .replace(/value=""/, 'v-model="accountEmail"');
          return tmpSource;
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Field group

export const FormLayoutGroup = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { FormLayout, FormGroup, FormItem, TextField },
  data() {
    return {
      min: '',
      max: '',
    };
  },
  template: `<FormLayout>
    <FormGroup>
      <FormItem>
        <TextField v-model="min" type="number">
          <template slot="label">Minimum order</template>
        </TextField>
      </FormItem>
      <FormItem>
        <TextField v-model="max" type="number">
          <template slot="label">Maximum order</template>
        </TextField>
      </FormItem>
    </FormGroup>
  </FormLayout>`,
});

<Canvas>
  <Story
    name="Field Group"
    height="80px"
    parameters={{
      docs: {
        transformSource: (source) => {
          const tmpSource = source
            .replace(/\svalue=""/g, '');
          return tmpSource;
        },
      },
    }}
  >
    {FormLayoutGroup.bind({})}
  </Story>
</Canvas>

### Condensed field group

export const FormGroupCondensed = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { FormLayout, FormGroup, FormItem, TextField },
  data() {
    return {
      textField: '',
      emailField: '',
    };
  },
  template: `<FormLayout>
    <FormGroup condensed>
      <FormItem>
        <TextField>
          <template slot="label">Length</template>
        </TextField>
      </FormItem>
      <FormItem>
        <TextField>
          <template slot="label">Width</template>
        </TextField>
      </FormItem>
      <FormItem>
        <TextField>
          <template slot="label">Height</template>
        </TextField>
      </FormItem>
      <FormItem>
        <TextField>
          <template slot="label">Unit</template>
        </TextField>
      </FormItem>
    </FormGroup>
  </FormLayout>`,
});

<Canvas>
  <Story
    name="Condensed field group"
    height="80px"
    parameters={{
      docs: {
        transformSource: (source) => {
          const tmpSource = source
            .replace(/condensed=""/, 'condensed');
          return tmpSource;
        },
      },
    }}
  >
    {FormGroupCondensed.bind({})}
  </Story>
</Canvas>

