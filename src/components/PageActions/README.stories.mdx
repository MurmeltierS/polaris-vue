import dedent from 'ts-dedent';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { PageActions } from '@/polaris-vue';

<Meta
  title="Components / Structure / Page actions"
  component={ PageActions }
  argTypes={{
    secondaryActions: {
      table: { type: { summary: 'ComplexAction[]' } },
      control: {
        disable: true,
      },
    },
    primaryAction: {
      table: { type: { summary: 'DisableableAction && LoadableAction' } },
      control: {
        disable: true,
      },
    },
  }}
/>

export const Template = (args) => ({
  components: { PageActions },
  setup() {
    const handleClick = () => {
      console.log('click');
    };
    return { args, handleClick };
  },
  template: `
    <PageActions
      :primaryAction="{ content: 'Save', onClick: handleClick }"
      :secondaryActions="[{ content: 'Delete', destructive: true, onClick: handleClick  }, { content: 'Clear', disabled: true }]"
    />
  `,
});

# Page Actions

Page actions let merchants take key actions at the bottom of specific pages in the interface. This is important because sometimes the primary call to action is hard to access when merchants are at the bottom of a page.

<Canvas>
  <Story
    name="Page actions"
    height="100px"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <PageActions
              :primaryAction="{ content: 'Save', onClick: handleClick }"
              :secondaryActions="[{ content: 'Delete', destructive: true, onClick: handleClick  }, { content: 'Clear', disabled: true }]"
            />\n
            <script setup>
              const handleClick = () => {
                console.log('click');
              };
            </script>
          `,
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Page actions" />
